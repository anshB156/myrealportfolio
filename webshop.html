<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solara</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #39FF14;
            --color-dark: #000000;
            --color-light: #FFFFFF;
            --color-surface: #111111;
            --color-border: #222222;
        }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Space Grotesk', sans-serif;
            background-color: var(--color-dark);
            color: var(--color-light);
            overflow: hidden;
        }
        #main-scroll-container {
            width: 100%;
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
        }
        .scroll-section {
            height: 100vh;
            width: 100%;
            scroll-snap-align: start;
            position: relative;
        }
        .animated-element {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            transition-delay: 0.2s;
        }
        .is-visible .animated-element {
            opacity: 1;
            transform: translateY(0);
        }
        .is-visible .animated-element:nth-child(2) { transition-delay: 0.3s; }
        .is-visible .animated-element:nth-child(3) { transition-delay: 0.4s; }
        .is-visible .animated-element:nth-child(4) { transition-delay: 0.5s; }
        .product-image-container {
            opacity: 0;
            transform: scale(1.1);
            transition: opacity 1.2s ease, transform 1.2s ease;
        }
        .is-visible .product-image-container {
            opacity: 1;
            transform: scale(1);
        }
        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-dark);
            font-weight: 700;
            transition: transform 0.3s ease;
        }
        .btn-primary:hover {
            transform: scale(1.05);
        }
        .fixed-ui-element {
            transition: color 0.3s ease;
        }
        .fixed-ui-element:hover {
            color: var(--color-primary);
        }
        .drawer {
            position: fixed; z-index: 100;
            top: 0; right: 0; bottom: 0;
            width: 90%; max-w-md;
            background-color: var(--color-surface);
            transform: translateX(100%);
            opacity: 0;
            visibility: hidden;
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.5s, visibility 0.5s;
        }
        .drawer.visible {
            transform: translateX(0);
            opacity: 1;
            visibility: visible;
        }
        .overlay {
            position: fixed; inset: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 99; opacity: 0; visibility: hidden;
            transition: opacity 0.5s ease;
        }
        .overlay.visible {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="antialiased">
    <div id="main-scroll-container">
        <header class="fixed top-0 left-0 right-0 z-50 p-6 md:p-8 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold tracking-widest">SOLARA</a>
            <div class="flex items-center gap-6">
                <button id="user-panel-button" class="fixed-ui-element">
                    <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                </button>
                <button id="cart-button" class="fixed-ui-element relative">
                    <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
                    <span id="cart-count-badge" class="absolute -top-2 -right-2 bg-primary text-dark text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
            </div>
        </header>

        <section id="hero" class="scroll-section flex items-center justify-center text-center">
            <div class="relative px-6">
                <h1 class="text-6xl md:text-8xl lg:text-9xl font-bold tracking-tighter animated-element">Beyond Fabric</h1>
                <p class="text-xl md:text-2xl mt-4 text-gray-300 animated-element">Apparel as an extension of identity. Engineered for the individual.</p>
                <div class="mt-8 animated-element">
                    <span class="text-gray-400">Scroll to explore</span>
                </div>
            </div>
        </section>

        <div id="product-showcase"></div>
        
        <footer class="scroll-section bg-dark flex items-center justify-center text-center p-6">
            <div class="container mx-auto">
                <div class="max-w-md mx-auto">
                    <h2 class="text-5xl md:text-7xl font-bold">Join the Solara Collective.</h2>
                    <p class="mt-4 text-lg text-gray-400">Sign up for exclusive drops and 10% off your first order.</p>
                    <form class="mt-8 flex">
                        <input type="email" placeholder="Enter your email" class="w-full bg-surface border border-border px-4 py-3 rounded-l-md focus:outline-none focus:border-primary">
                        <button type="submit" class="btn-primary px-6 py-3 rounded-r-md">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="absolute bottom-6 left-0 right-0 text-xs text-gray-600">
                <p>&copy; 2025 Solara. All Rights Reserved.</p>
                <p class="mt-1">Created by Sarnab Bhattacharjee. Chattogram, Bangladesh.</p>
            </div>
        </footer>
    </div>

    <div id="overlay" class="overlay"></div>
    <div id="cart-drawer" class="drawer"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const ShopApp = {
                $: (selector) => document.querySelector(selector),
                $$: (selector) => document.querySelectorAll(selector),
                products: [], cart: [],
                init() {
                    this.products = this.fetchProducts();
                    this.loadCartFromStorage();
                    this.renderProductSections();
                    this.initIntersectionObserver();
                    this.addEventListeners();
                    this.updateCartUI();
                },
                fetchProducts() {
                    return [
                        { id: 1, name: 'Aether Hoodie', price: 125.00, image: 'https://images.unsplash.com/photo-1620799140408-edc6dcb6d633?q=80&w=1972&auto=format&fit=crop', desc: 'Constructed from a custom-milled heavyweight fleece, the Aether Hoodie offers structured comfort and a modern silhouette. Ideal for dynamic urban environments.' },
                        { id: 2, name: 'Helios Tee', price: 45.00, image: 'https://images.unsplash.com/photo-1576566588028-4147f3842f27?q=80&w=764&auto=format&fit=crop', desc: 'The quintessential tee, perfected. Our Helios Tee uses premium long-staple cotton for an incredibly soft yet durable feel that gets better with every wash.' },
                        { id: 3, name: 'Nyx Cargo', price: 150.00, image: 'https://cdn.pixabay.com/photo/2023/05/06/01/33/t-shirt-7973394_1280.jpg', desc: 'Utility meets design. The Nyx Cargo pants are made from a water-resistant technical fabric with an ergonomic fit and ample storage for the modern explorer.' },
                        { id: 4, name: 'Terra Jacket', price: 250.00, image: 'https://cdn.pixabay.com/photo/2024/04/17/18/40/ai-generated-8702729_1280.jpg', desc: 'A versatile outer layer designed for all conditions. The Terra Jacket is fully waterproof, breathable, and features a minimalist design that conceals its technical prowess.' },
                    ];
                },
                addEventListeners() {
                    document.body.addEventListener('click', e => {
                        const target = e.target;
                        if (target.id === 'overlay' || target.closest('.close-drawer-btn')) return this.closeAllDrawers();
                        if (target.closest('#cart-button')) return this.renderCartDrawer();
                        if (target.closest('.add-to-cart-btn')) return this.addToCart(target.closest('[data-product-id]').dataset.productId);
                        if (target.closest('.cart-quantity-btn')) return this.updateCartQuantity(target);
                        if (target.closest('.cart-remove-btn')) return this.removeCartItem(target);
                    });
                },
                renderProductSections() {
                    const showcase = this.$('#product-showcase');
                    showcase.innerHTML = this.products.map((p, index) => `
                        <section class="scroll-section flex items-center" data-product-id="${p.id}">
                            <div class="container mx-auto px-6 md:px-8">
                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center">
                                    <div class="product-image-container ${index % 2 === 0 ? 'lg:order-2' : ''}">
                                        <img src="${p.image}" alt="${p.name}" class="w-full h-auto max-h-[80vh] object-contain">
                                    </div>
                                    <div class="text-center lg:text-left">
                                        <h2 class="text-5xl md:text-7xl font-bold tracking-tighter animated-element">${p.name}</h2>
                                        <p class="mt-4 text-lg text-gray-300 max-w-md mx-auto lg:mx-0 animated-element">${p.desc}</p>
                                        <div class="mt-8 flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-6">
                                            <span class="text-4xl font-bold animated-element">$${p.price.toFixed(2)}</span>
                                            <button class="btn-primary px-10 py-4 rounded-full add-to-cart-btn animated-element" data-product-id="${p.id}">Add to Cart</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    `).join('');
                },
                renderCartDrawer() {
                    const drawer = this.$('#cart-drawer');
                    const itemsHTML = this.cart.length > 0 ? this.cart.map(i => `
                        <div class="flex gap-4 py-4 border-b border-border">
                            <img src="${i.image}" class="w-24 h-24 object-cover rounded-md">
                            <div class="flex-grow flex flex-col">
                                <p class="font-semibold">${i.name}</p>
                                <p class="text-sm text-gray-400">$${i.price.toFixed(2)}</p>
                                <div class="flex items-center gap-4 mt-auto">
                                    <button class="cart-quantity-btn text-lg" data-id="${i.id}" data-change="-1">-</button>
                                    <span class="font-bold">${i.quantity}</span>
                                    <button class="cart-quantity-btn text-lg" data-id="${i.id}" data-change="1">+</button>
                                </div>
                            </div>
                            <div class="flex flex-col items-end justify-between">
                                <p class="font-semibold">$${(i.price * i.quantity).toFixed(2)}</p>
                                <button class="cart-remove-btn text-xs text-gray-500 hover:text-primary" data-id="${i.id}">Remove</button>
                            </div>
                        </div>`).join('') : `<p class="text-center text-gray-500 py-16">Your cart is empty.</p>`;
                    const subtotal = this.cart.reduce((s, i) => s + i.price * i.quantity, 0);
                    drawer.innerHTML = `
                        <div class="p-6 border-b border-border flex justify-between items-center">
                            <h3 class="text-xl font-bold">Your Cart</h3>
                            <button class="close-drawer-btn text-2xl text-gray-500 hover:text-white">&times;</button>
                        </div>
                        <div class="p-6 flex-grow overflow-y-auto">${itemsHTML}</div>
                        <div class="p-6 border-t border-border">
                            <div class="flex justify-between font-bold mb-4"><span>Subtotal</span><span>$${subtotal.toFixed(2)}</span></div>
                            <a href="checkout.html" id="proceed-to-checkout-btn" class="text-center block btn-primary w-full py-3 rounded-full ${this.cart.length === 0 ? 'pointer-events-none bg-gray-600' : ''}">Proceed to Checkout</a>
                        </div>`;
                    this.openDrawer(drawer);
                },
                initIntersectionObserver() {
                    const options = { root: this.$('#main-scroll-container'), threshold: 0.6 };
                    const observer = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('is-visible');
                            } else {
                                entry.target.classList.remove('is-visible');
                            }
                        });
                    }, options);
                    this.$$('.scroll-section').forEach(section => observer.observe(section));
                },
                addToCart(id) {
                    const p = this.products.find(prod => prod.id == id);
                    if (!p) return;
                    const item = this.cart.find(i => i.id == id);
                    if (item) item.quantity++; else this.cart.push({ ...p, quantity: 1 });
                    this.updateCartUI();
                },
                updateCartQuantity(target) {
                    const id = target.dataset.id, change = parseInt(target.dataset.change), item = this.cart.find(i => i.id == id);
                    if (item) {
                        item.quantity += change;
                        if (item.quantity <= 0) this.cart = this.cart.filter(i => i.id != id);
                        this.renderCartDrawer(); this.updateCartUI();
                    }
                },
                removeCartItem(target) {
                    this.cart = this.cart.filter(i => i.id != target.dataset.id);
                    this.renderCartDrawer(); this.updateCartUI();
                },
                updateCartUI() {
                    this.$('#cart-count-badge').textContent = this.cart.reduce((s, i) => s + i.quantity, 0);
                    this.saveCartToStorage();
                },
                loadCartFromStorage() { const c = localStorage.getItem('solaraCart'); if (c) this.cart = JSON.parse(c); },
                saveCartToStorage() { localStorage.setItem('solaraCart', JSON.stringify(this.cart)); },
                openDrawer(el) { this.$('#overlay').classList.add('visible'); el.classList.add('visible'); },
                closeAllDrawers() { this.$('#overlay').classList.remove('visible'); this.$$('.drawer').forEach(el => el.classList.remove('visible')); }
            };
            ShopApp.init();
        });
    </script>
</body>
</html>
